<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>resource-loader</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">resource-loader</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>resource-loader</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#resource-loader-a-hrefhttpstravis-ciorgenglercjresource-loaderimg-srchttpstravis-ciorgenglercjresource-loadersvgbranchmaster-altbuild-statusa" id="resource-loader-a-hrefhttpstravis-ciorgenglercjresource-loaderimg-srchttpstravis-ciorgenglercjresource-loadersvgbranchmaster-altbuild-statusa" style="color: inherit; text-decoration: none;">
					<h1>Resource Loader <a href="https://travis-ci.org/englercj/resource-loader"><img src="https://travis-ci.org/englercj/resource-loader.svg?branch=master" alt="Build Status"></a></h1>
				</a>
				<p>A generic resource loader, made with web games in mind.</p>
				<a href="#philosophy" id="philosophy" style="color: inherit; text-decoration: none;">
					<h2>Philosophy</h2>
				</a>
				<p>This library was built to make it easier to load and prepare data asynchronously. The
					goal was mainly to unify the many different APIs browsers expose for loading data and
				smooth the differences between versions and vendors.</p>
				<p>It is not a goal of this library to be a resource caching and management system,
					just a loader. This library is for the actual mechanism of loading data. All
					caching, resource management, knowing what is loaded and what isn&#39;t, deciding
				what to load, etc, should all exist as logic outside of this library.</p>
				<p>As a more concrete statement, your project should have a Resource Manager that
					stores resources and manages data lifetime. When it decides something needs to be
				loaded from a remote source, only then does it create a loader and load them.</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<pre><code class="language-js"><span class="hljs-comment">// ctor</span>
<span class="hljs-keyword">import</span> { Loader } <span class="hljs-keyword">from</span> <span class="hljs-string">'resource-loader'</span>;

<span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">new</span> Loader();

loader
    <span class="hljs-comment">// Chainable `add` to enqueue a resource</span>
    .add(url)

    <span class="hljs-comment">// Chainable `use` to add a middleware that runs for each resource, *after* loading that resource.</span>
    <span class="hljs-comment">// This is useful to implement custom parsing modules (like spritesheet parsers).</span>
    .use(<span class="hljs-function">(<span class="hljs-params">resource, next</span>) =&gt;</span>
    {
        <span class="hljs-comment">// Be sure to call next() when you have completed your middleware work.</span>
        next();
    })

    <span class="hljs-comment">// The `load` method loads the queue of resources, and calls the passed in callback called once all</span>
    <span class="hljs-comment">// resources have loaded.</span>
    .load(<span class="hljs-function">(<span class="hljs-params">loader, resources</span>) =&gt;</span> {
        <span class="hljs-comment">// resources is an object where the key is the name of the resource loaded and the value is the resource object.</span>
        <span class="hljs-comment">// They have a couple default properties:</span>
        <span class="hljs-comment">// - `url`: The URL that the resource was loaded from</span>
        <span class="hljs-comment">// - `error`: The error that happened when trying to load (if any)</span>
        <span class="hljs-comment">// - `data`: The raw data that was loaded</span>
        <span class="hljs-comment">// also may contain other properties based on the middleware that runs.</span>
    });

<span class="hljs-comment">// Throughout the process multiple signals can be dispatched.</span>
loader.onStart.add(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}); <span class="hljs-comment">// Called when a resource starts loading.</span>
loader.onError.add(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}); <span class="hljs-comment">// Called when a resource fails to load.</span>
loader.onLoad.add(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}); <span class="hljs-comment">// Called when a resource successfully loads.</span>
loader.onProgress.add(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}); <span class="hljs-comment">// Called when a resource finishes loading (success or fail).</span>
loader.onComplete.add(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}); <span class="hljs-comment">// Called when all resources have finished loading.</span></code></pre>
				<a href="#building" id="building" style="color: inherit; text-decoration: none;">
					<h2>Building</h2>
				</a>
				<p>You will need to have <a href="http://nodejs.org/">node</a> setup on your machine.</p>
				<p>Then you can install dependencies and build:</p>
				<pre><code class="language-js">npm i &amp;&amp; npm run build</code></pre>
				<p>That will output the built distributables to <code>./dist</code>.</p>
				<a href="#supported-browsers" id="supported-browsers" style="color: inherit; text-decoration: none;">
					<h2>Supported Browsers</h2>
				</a>
				<ul>
					<li>IE 9+</li>
					<li>FF 13+</li>
					<li>Chrome 20+</li>
					<li>Safari 6+</li>
					<li>Opera 12.1+</li>
				</ul>
				<a href="#upgrading-to-v4" id="upgrading-to-v4" style="color: inherit; text-decoration: none;">
					<h2>Upgrading to v4</h2>
				</a>
				<ul>
					<li>Before middleware has been removed, so no more <code>pre</code> function.<ul>
							<li>If you used <code>pre</code> middleware for url parsing, use the new <code>urlResolver</code> property instead.</li>
						</ul>
					</li>
					<li><code>crossOrigin</code> must now be a string if specified.</li>
					<li><code>Resource.LOAD_TYPE</code> enum replaced with Load Strategies.<ul>
							<li>For example, <code>loadType: Resource.LOAD_TYPE.IMAGE</code> is now <code>strategy: Loader.ImageLoadStrategy</code>.</li>
						</ul>
					</li>
					<li><code>Resource.XHR_RESPONSE_TYPE</code> enum replaced with <code>XhrLoadStrategy.ResponseType</code>.<ul>
							<li>For example, <code>xhrType: Resource.XHR_RESPONSE_TYPE.DOCUMENT</code> is now <code>xhrType: Loader.XhrLoadStrategy.ResponseType.Document</code>.</li>
						</ul>
					</li>
					<li>Overloads for the <code>add</code> function have been simplified.<ul>
							<li>The removed overloads were not widely used. See the docs for what is now valid.</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/resourcestate.html" class="tsd-kind-icon">Resource<wbr>State</a>
					</li>
					<li class=" tsd-kind-enum">
						<a href="enums/resourcetype.html" class="tsd-kind-icon">Resource<wbr>Type</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/abstractloadstrategy.html" class="tsd-kind-icon">Abstract<wbr>Load<wbr>Strategy</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/audioloadstrategy.html" class="tsd-kind-icon">Audio<wbr>Load<wbr>Strategy</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/imageloadstrategy.html" class="tsd-kind-icon">Image<wbr>Load<wbr>Strategy</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/loader.html" class="tsd-kind-icon">Loader</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/mediaelementloadstrategy.html" class="tsd-kind-icon">Media<wbr>Element<wbr>Load<wbr>Strategy</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/resource.html" class="tsd-kind-icon">Resource</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/videoloadstrategy.html" class="tsd-kind-icon">Video<wbr>Load<wbr>Strategy</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/xhrloadstrategy.html" class="tsd-kind-icon">Xhr<wbr>Load<wbr>Strategy</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>